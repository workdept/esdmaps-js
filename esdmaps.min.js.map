{"version":3,"file":"esdmaps.min.js","sources":["esdmaps.js"],"names":["root","factory","exports","ESDMaps","L","this","VERSION","settings","mapboxId","altPopupClass","altPopupOpenClass","baseUrl","selectedMarkerColor","forEach","array","fn","i","length","addClass","el","className","classList","add","_presets","registerPreset","id","options","getPreset","initAltPopup","map","altPopup","document","createElement","setAttribute","container","getContainer","parentNode","insertBefore","nextSibling","querySelector","on","e","innerHTML","popup","getContent","remove","replace","RegExp","split","join","addPointLayer","url","success","error","data","geoJson","pointToLayer","mapbox","marker","style","feature","properties","onEachFeature","layer","bindPopup","renderTemplate","popupTemplate","target","setIcon","icon","showPopupOnHover","getPopup","_hovering","hoverPopupTemplate","setContent","openPopup","DomUtil","_container","removeClass","closePopup","addTo","request","XMLHttpRequest","open","onreadystatechange","readyState","status","JSON","parse","responseText","send","tpl","ctx","template","mapFromElement","centerBits","attr","name","hasAttribute","getAttribute","latLng","parseFloat","preset","pointsUrl","zoom","center","element","_","obj","out","Array","prototype","slice","call","arguments","source","prop","defaults","k","detectMaps","querySelectorAll"],"mappings":"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"}