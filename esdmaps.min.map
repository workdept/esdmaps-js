{"version":3,"file":"esdmaps.min.js","sources":["esdmaps.js"],"names":["root","factory","exports","ESDMaps","L","this","forEach","array","fn","i","length","defaults","obj","Array","prototype","slice","call","arguments","source","prop","pick","whitelist","out","k","getJSON","url","success","error","request","XMLHttpRequest","open","onreadystatechange","readyState","status","JSON","parse","responseText","send","elData","el","attrs","data","attr","name","hasAttribute","getAttribute","addClass","className","classList","add","removeClass","remove","replace","RegExp","split","join","initAltPopup","map","options","altPopup","makeAltPopupEl","container","getContainer","parentNode","insertBefore","nextSibling","document","querySelector","settings","altPopupClass","on","e","innerHTML","popup","getContent","altPopupOpenClass","addPointLayer","geoJson","pointToLayer","mapbox","marker","style","feature","properties","onEachFeature","layer","bindPopup","renderTemplate","popupTemplate","target","selectedMarkerColor","setIcon","icon","showPopupOnHover","initHoverPopup","addTo","getPopup","_hovering","hoverPopupTemplate","setContent","openPopup","DomUtil","_container","closePopup","console","debug","tpl","ctx","template","createElement","setAttribute","mapFromElement","centerBits","latLng","parseFloat","preset","pointsUrl","zoom","center","VERSION","mapboxId","baseUrl","_presets","registerPreset","id","getPreset","element","_","detectMaps","querySelectorAll"],"mappings":"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"}